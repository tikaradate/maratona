#include <bits/stdc++.h>

using namespace std;
using ll = long long;

int main(){
    cin.tie(0);
    ios_base::sync_with_stdio(false);

    int m; cin >> m;
    vector<string> s(3);
    for(int i = 0; i < 3; ++i) cin >> s[i];

    vector<vector<int>> t(3, vector<int>(10, -1));
    
    int min_time = 1123456789, min_idx = -1;
        for(int i = 0; i < 10; ++i){
    }

    if(min_time == 1123456789) cout << -1 << endl;
    else cout << min_time << endl;
}